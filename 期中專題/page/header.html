<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="./public/css/header.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="./public/js/header.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.4/font/bootstrap-icons.css">
</head>

<body>
    <!--上方的header-->
    <header class="nav">
        <a href="#" class="header_logo ">
            <img src="./public/media/logo/大專logo_帶你買.png" alt="logo">
        </a>
        <div class="header_text ">
            <div class="items"><a href="#">最新消息</a></div>
            <div class="items"><a href="#">精選團購</a></div>
            <div class="items"><a href="#">全部團購</a></div>
            <div class="items"><a href="#">許願清單</a></div>
        </div>
        <a href="#" class="member_icon bi bi-person-circle"></a>
    </header>

    <!--右方的header-->
    <aside>
        <div class="seach_icon">
            <a href="#" class="icon bi bi-search"></a>
            <a href="#" class="icon bi bi-facebook"></a>
            <a href="#" class="icon bi bi-instagram"></a>
            <a href="#" class="icon bi bi-heart-fill"></a>
        </div>
        <div class="search_modal">
            <input type="text" class="bi bi-search search_modal_input">
            <button class="icon bi bi-search search_icon"></button>
        </div>
        <div class="search_modal_background"></div>
        <script>
            let seach_bar = document.querySelector(".search_modal");
            let modalBackground = document.querySelector(".search_modal_background");
            document.addEventListener("click", function (r) {
                if (r.target == document.querySelector(".bi-search")) {
                    seach_bar.style.display = "flex";
                    seach_bar.classList.add("show");
                    modalBackground.classList.add("show");
                } else if (r.target != seach_bar && !seach_bar.contains(r.target)) {
                    seach_bar.style.display = "none";
                    modalBackground.classList.remove("show");
                    document.querySelector(".search_modal_input").value="";
                }
            });
            document.querySelector(".search_icon").onclick=()=>{
                let seach_content =document.querySelector(".search_modal_input");
                sessionStorage.setItem("seach_content",seach_content.value);
                console.log(sessionStorage.getItem("seach_content"));
            }
            window.onload = () => {
                axios
                    .get("http://localhost:3000/userlogin")
                    .then(function (response) {
                        document.querySelector(".member_icon").onclick = () => {
                            if(!response){
                                window.location = "/login";
                            }else{
                                window.location = "/member";
                            }
                            
                        }
                    })
                
            }

        </script>
        <div class="about_us">

            <div class="block"><a href="#">關於我們</a></div>
            <div class="block"><a href="#"> 聯絡我們</a></div>
            <div class="block"><a href="#"> 使用教學</a></div>
        </div>
    </aside>
</body>

</html>